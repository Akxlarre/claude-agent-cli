/* ============================================================
   PAGE SHELL — Patrones de layout de página
   
   Complementa al Bento Grid System:
     Bento Grid  = layout de CELDAS dentro de una página
     Page Shell   = layout de la PÁGINA en sí
   
   Breakpoints: reutiliza $bp-sm/md/lg del bento grid
   ============================================================ */

$bp-sm: 640px !default;
$bp-md: 768px !default;
$bp-lg: 1024px !default;

/* ── LAYER ──────────────────────────────────────────────────── */
@layer page-shell;

@layer page-shell {

    /* ── 1. BASE — Todos los shells comparten esto ─────────── */
    [class^="page-"],
    [class*=" page-"] {
        width: 100%;
        min-height: 0;
        padding: var(--space-4);

        @media (min-width: $bp-md) {
            padding: var(--space-6);
        }

        @media (min-width: $bp-lg) {
            padding: var(--space-8);
        }
    }

    /* ── 2. PAGE-CENTERED ──────────────────────────────────────
     Contenido centrado con max-width acotado.
     Uso: Login, registro, error 404, landing simple.
     ───────────────────────────────────────────────────────── */
    .page-centered {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: calc(100vh - var(--topbar-height, 64px));
        max-width: 480px;
        margin-inline: auto;
    }

    /* ── 3. PAGE-NARROW ────────────────────────────────────────
     Columna estrecha para formularios y configuración.
     Uso: Perfil, settings, edición de item.
     ───────────────────────────────────────────────────────── */
    .page-narrow {
        max-width: 640px;
        margin-inline: auto;
    }

    /* ── 4. PAGE-CONTENT ───────────────────────────────────────
     Columna de contenido estándar con max-width cómodo.
     Uso: Detalle de artículo, documentación, vistas de lectura.
     ───────────────────────────────────────────────────────── */
    .page-content {
        max-width: 860px;
        margin-inline: auto;
    }

    /* ── 5. PAGE-WIDE ──────────────────────────────────────────
     Full-width con padding lateral. Sin max-width.
     Uso: Dashboard con bento grid, tablas, listados amplios.
     ───────────────────────────────────────────────────────── */
    .page-wide {
        max-width: 100%;
    }

    /* ── 6. PAGE-SPLIT ─────────────────────────────────────────
     Dos paneles: sidebar de contexto + contenido principal.
     Uso: Master-detail, inbox, chat.
     
     Mobile: stack vertical (sidebar arriba, contenido abajo)
     Desktop: side-by-side con ratio configurable
     ───────────────────────────────────────────────────────── */
    .page-split {
        --split-aside-width: 320px;
        --split-gap: var(--space-6);

        display: flex;
        flex-direction: column;
        gap: var(--split-gap);

        @media (min-width: $bp-md) {
            flex-direction: row;
        }
    }

    .page-split__aside {
        flex-shrink: 0;

        @media (min-width: $bp-md) {
            width: var(--split-aside-width);
        }
    }

    .page-split__main {
        flex: 1;
        min-width: 0;
        /* Previene blowout */
    }

    /* ── 7. PAGE-HEADER ────────────────────────────────────────
     Header de página con título + acciones alineadas.
     Uso: Encabezado de cualquier vista (dashboard, lista, settings).
     ───────────────────────────────────────────────────────── */
    .page-header {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        gap: var(--space-3);
        margin-bottom: var(--space-6);
    }

    .page-header__title {
        font-family: var(--font-display);
        font-size: var(--text-2xl);
        font-weight: var(--font-semibold);
        color: var(--text-primary);
        margin: 0;

        @media (min-width: $bp-md) {
            font-size: var(--text-3xl);
        }
    }

    .page-header__subtitle {
        width: 100%;
        font-size: var(--text-sm);
        color: var(--text-secondary);
        margin: 0;
    }

    .page-header__actions {
        display: flex;
        align-items: center;
        gap: var(--space-2);
    }

    /* ── 8. PAGE-SECTION ───────────────────────────────────────
     Separador semántico entre bloques de contenido.
     Uso: Agrupar contenido relacionado dentro de cualquier page-*.
     ───────────────────────────────────────────────────────── */
    .page-section {
        &+& {
            margin-top: var(--space-8);
            padding-top: var(--space-8);
            border-top: 1px solid var(--border-subtle);
        }
    }

    .page-section__title {
        font-family: var(--font-display);
        font-size: var(--text-lg);
        font-weight: var(--font-semibold);
        color: var(--text-primary);
        margin: 0 0 var(--space-4);
    }

    /* ── 9. EMPTY STATE ────────────────────────────────────────
     Estado vacío genérico para cualquier vista sin datos.
     ───────────────────────────────────────────────────────── */
    .page-empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        gap: var(--space-4);
        padding: var(--space-12) var(--space-4);
        color: var(--text-muted);
    }

    .page-empty__icon {
        font-size: 3rem;
        opacity: 0.5;
    }

    .page-empty__title {
        font-size: var(--text-lg);
        font-weight: var(--font-medium);
        color: var(--text-secondary);
        margin: 0;
    }

    .page-empty__description {
        font-size: var(--text-sm);
        max-width: 360px;
        margin: 0;
    }
}